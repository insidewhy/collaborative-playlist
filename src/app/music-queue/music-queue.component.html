<ul class="track-list">
  <li *ngFor="let track of (musicQueue.tracks | async); let index = index"
      [class.active]="(currentTrack.index | async) === index"
      [class.selected]="(selectedTracks.indexes | async).has(index)">

    <ng-container [ngSwitch]="(currentTrack.index | async) !== index">
      <a *ngSwitchCase="true" (click)="musicQueue.playTrack(track.id, index)">
        <md-icon>play_arrow</md-icon>
      </a>
      <ng-container *ngSwitchCase="false" [ngSwitch]="(currentTrack.paused | async)">
        <a *ngSwitchCase="true" (click)="currentTrack.unpause()">
          <md-icon>play_arrow</md-icon>
        </a>
        <a *ngSwitchCase="false" (click)="currentTrack.pause()">
          <md-icon>pause</md-icon>
        </a>
      </ng-container>
    </ng-container>
    <div (click)="toggle(index, $event)">
      {{track.artist.name}} - {{track.album.title}} - {{track.title}}
    </div>
    <time>
      {{track.duration | trackDuration}}
    </time>
  </li>
</ul>
